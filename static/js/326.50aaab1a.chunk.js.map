{"version":3,"file":"static/js/326.50aaab1a.chunk.js","mappings":"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","sources":["components/MovieList.jsx","components/Request.jsx","components/Search.jsx","components/pages/Movies.jsx"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nexport const MovieList = ({ movies, showTitle = true }) => {\n  const location = useLocation();\n  return (\n    <div className=\"container\">\n      {showTitle && <h1 className=\"p-2 mt-3 mb-3\">Trending Today</h1>}\n      {movies.length > 0 &&\n        movies.map(movie => {\n          return (\n            <Link\n              key={movie.id}\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className=\"text-decoration-none\"\n            >\n              <ul className=\"list-group\">\n                <li className=\"list-group-item\">{movie.title}</li>\n              </ul>\n            </Link>\n          );\n        })}\n    </div>\n  );\n};\n","\nconst url = 'https://api.themoviedb.org/3/';\nconst key = '44cd7d40e9c9ffc80f6b2e51bac6d9ee'; \n\nexport const fetchTrending = () => {\n  return fetch(`${url}trending/movie/day?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchMovie = (id) => {\n  return fetch(`${url}movie/${id}?api_key=${key}`).then(res => res.json());\n} \n\nexport const fetchCast = (id) => {\n  return fetch(`${url}movie/${id}/credits?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchReview = (id) => {\n  return fetch(`${url}movie/${id}/reviews?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchSearch = (query) => {\n  return fetch(`${url}search/movie?page=1&api_key=${key}&query=${query}`).then(res => res.json())\n}\n \n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearch } from './Request';\nimport { MovieList } from './MovieList';\nimport Notiflix from 'notiflix';\n\nexport const Search = () => {\n  const [searchParams] = useSearchParams();\n  const [searchTerm, setSearchTerm] = useState(\n    searchParams.get('query') ? searchParams.get('query') : ''\n  );\n  const [movies, setMovies] = useState([]); \n\n  useEffect(() => {\n    setSearchTerm(searchParams.get('query'));\n  }, [searchParams]);\n\n  useEffect(() => {\n    console.log(searchTerm);\n    if (searchTerm && searchTerm.length > 2) {\n      fetchSearch(searchTerm).then(res => {\n          if (res.results.length > 0) {\n            setMovies(res.results); \n          } else {\n            setMovies([]); \n            Notiflix.Notify.failure(`No movies found for '${searchTerm}'`);\n          }\n        })\n        .catch(error => {\n          console.error(error); \n          Notiflix.Notify.failure('Error fetching movies');\n        });\n    }\n  }, [searchTerm]);\n\n  return (\n    <>\n      {searchTerm && (\n        <h6 className='mb-4 mt-3 px-3'>The search term is: <span className='text-info px-2'>{searchTerm}</span></h6>\n      )}\n      {movies.length > 0 && <MovieList movies={movies} showTitle={false} />}\n    </>\n  );\n};\n","import { useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Search } from '../Search';\nimport Notiflix from 'notiflix';\n\nconst Movies = () => {\n  const inputRef = useRef(); //accesam valoarea inputului  \n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const value = inputRef.current.value;\n    if (value.length >= 3) {\n      setSearchParams({ query: value });\n    } else {\n      Notiflix.Notify.failure('The search term is too short');\n    }\n  };\n  return (\n    <div className=\"container\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"col-12 col-lg-auto mb-3 mb-lg-0 me-lg-4\"\n        role=\"search\"\n      >\n        <div className=\"container d-flex justify-content-center\">\n          <div className=\"input-group w-100 w-md-50 w-lg-25\">\n            <input\n              ref={inputRef}\n              type=\"search\"\n              className=\"form-control rounded mt-3\"\n              placeholder=\"ex. Harry Potter\"\n              aria-label=\"Search\"\n              aria-describedby=\"search-addon\"\n            />\n            <button type=\"submit\" className=\"btn btn-outline-info mt-3\">\n              search\n            </button>\n          </div>\n        </div>\n      </form>\n      {searchParams.get('query') && <Search />}\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["MovieList","movies","showTitle","location","useLocation","className","length","map","movie","to","id","state","from","title","url","key","fetchTrending","fetch","then","res","json","fetchMovie","fetchCast","fetchReview","fetchSearch","query","Search","useSearchParams","searchParams","useState","get","searchTerm","setSearchTerm","setMovies","useEffect","console","log","results","Notiflix","catch","error","inputRef","useRef","setSearchParams","onSubmit","e","preventDefault","value","current","role","ref","type","placeholder"],"sourceRoot":""}